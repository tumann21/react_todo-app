{"version":3,"sources":["TodoContext.tsx","components/TodoApp.tsx","components/TodoItem.tsx","components/TodoList.tsx","components/TodosFilter.tsx","App.tsx","index.tsx"],"names":["TodoContext","React","createContext","todos","setTodos","finishedTodos","setFinishedTodos","activeTodos","setActiveTodos","visibleTodoses","setVisibleTodoses","TodoProvider","children","useState","JSON","parse","localStorage","getItem","useEffect","setItem","stringify","filter","elem","completed","contextValue","Provider","value","TodoApp","memo","useContext","title","setTitle","onSubmit","event","preventDefault","newTodo","id","Date","type","onChange","e","target","trim","className","placeholder","TodoItem","el","focused","setFocused","editTodo","setEditTodo","updateTodo","map","classNames","editing","checked","onDoubleClick","onClick","ref","input","focus","onBlur","onKeyDown","key","TodoList","actTodo","length","handleToggleAll","htmlFor","TodosFilter","setType","href","selected","App","ReactDOM","render","document","getElementById"],"mappings":"iTAcaA,EAAcC,IAAMC,cAA4B,CAC3DC,MAAO,GACPC,SAAU,aACVC,cAAe,GACfC,iBAAkB,aAClBC,YAAa,GACbC,eAAgB,aAChBC,eAAgB,GAChBC,kBAAmB,eAGRC,EAAyB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACvC,EAA0BC,mBACxBC,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,OAD7C,mBAAOd,EAAP,KAAcC,EAAd,KAGA,EAA4CS,mBAAiB,IAA7D,mBAAOJ,EAAP,KAAuBC,EAAvB,KACA,EAA0CG,mBAAiB,IAA3D,mBAAOR,EAAP,KAAsBC,EAAtB,KACA,EAAsCO,mBAAiB,IAAvD,mBAAON,EAAP,KAAoBC,EAApB,KAEAU,qBAAU,WACRF,aAAaG,QAAQ,OAAQL,KAAKM,UAAUjB,IAE5CG,EAAiBH,EAAMkB,QAAO,SAAAC,GAAI,OAAIA,EAAKC,cAC3Cf,EAAeL,EAAMkB,QAAO,SAAAC,GAAI,OAAKA,EAAKC,gBACzC,CAACpB,IAEJ,IAAMqB,EAAe,CACnBrB,QACAC,WACAC,gBACAC,mBACAC,cACAC,iBACAC,iBACAC,qBAGF,OACE,cAACV,EAAYyB,SAAb,CAAsBC,MAAOF,EAA7B,SACGZ,KCjDMe,G,MAAoB1B,IAAM2B,MAAK,WAC1C,MAA4BC,qBAAW7B,GAA/BG,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACf,EAA0BS,mBAAS,IAAnC,mBAAOiB,EAAP,KAAcC,EAAd,KAmBA,OACE,sBAAMC,SAlBW,SAACC,GAClBA,EAAMC,iBAEN,IAAMC,EAAU,CACdC,IAAK,IAAIC,KACTP,QACAP,WAAW,GAGRY,EAAQL,QAIb1B,EAAS,GAAD,mBAAKD,GAAL,CAAYgC,KACpBJ,EAAS,MAIT,SACE,uBACEO,KAAK,OACLZ,MAAOI,EACPS,SAAU,SAACC,GACTT,EAASS,EAAEC,OAAOf,MAAMgB,SAE1BC,UAAU,WACV,UAAQ,aACRC,YAAY,iC,uBCzBPC,G,MAA4B,SAAC,GAAY,IAAVC,EAAS,EAATA,GAC1C,EAA4BjB,qBAAW7B,GAA/BG,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACf,EAA8BS,oBAAS,GAAvC,mBAAOkC,EAAP,KAAgBC,EAAhB,KACA,EAAgCnC,mBAASiC,EAAGhB,MAAMY,QAAlD,mBAAOO,EAAP,KAAiBC,EAAjB,KAEMC,EAAa,WACjB/C,EAASD,EAAMiD,KAAI,SAAC9B,GAClB,OAAIA,EAAKc,KAAOU,EAAGV,GACV,2BACFd,GADL,IAEEQ,MAAOmB,EAASP,SAIbpB,OA4CX,OACE,mCACE,qBAEEqB,UAAWU,IAAW,CACpB9B,UAAWuB,EAAGvB,UACd+B,QAASP,IAJb,UAOE,sBAAKJ,UAAU,OAAf,UACE,uBACEL,KAAK,WACLiB,QAAST,EAAGvB,UACZgB,SAAU,kBA/BKH,EA+BiBU,EAAGV,QA9B3ChC,EAASD,EAAMiD,KAAI,SAAC9B,GAClB,OAAIA,EAAKc,KAAOA,EACP,2BACFd,GADL,IAEEC,WAAYD,EAAKC,YAIdD,MATa,IAACc,GAgCfO,UAAU,WAEZ,uBACEa,cAzDgB,WACxBR,GAAW,IAuDL,SAGGF,EAAGhB,QAEN,wBACEQ,KAAK,SACL,UAAQ,aACRK,UAAU,UACVc,QAAS,kBA/CErB,EA+CgBU,EAAGV,QA9CtChC,EAASD,EAAMkB,QAAO,SAAAC,GAAI,OAAIA,EAAKc,KAAOA,MADxB,IAACA,QAkDf,uBACEE,KAAK,OACLF,GAAG,WACHV,MAAOuB,EACPV,SAAU,SAAAC,GAAC,OAAIU,EAAYV,EAAEC,OAAOf,QACpCiB,UAAU,OACVe,IAAK,SAAAC,GAAK,OAAIA,GAASA,EAAMC,SAC7BC,OAxCa,WACnBb,GAAW,GACXG,KAuCMW,UAxEY,SAAC7B,GACnB,OAAQA,EAAM8B,KACZ,IAAK,QACHf,GAAW,GACXG,IACA,MACF,IAAK,SACHD,EAAYJ,EAAGhB,MAAMY,QACrBM,GAAW,SA+BNF,EAAGV,QCnEH4B,EAAqB/D,IAAM2B,MAAK,WAC3C,MAA4BC,qBAAW7B,GAA/BG,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACPK,EAAmBoB,qBAAW7B,GAA9BS,eAEFwD,EAAU9D,EAAMkB,QAAO,SAAAC,GAAI,OAAKA,EAAKC,aAW3C,OACE,qCACoB,IAAjBpB,EAAM+D,QACL,qCACE,uBACE5B,KAAK,WACLiB,QAA4B,IAAnBU,EAAQC,OACjB3B,SAAU,SAAAC,GAAC,OAhBG,SAACA,GACvBpC,EAASD,EAAMiD,KAAI,SAAC9B,GAClB,OAAO,2BACFA,GADL,IAEEC,UAAWiB,QAYQ2B,CAAgB3B,EAAEC,OAAOc,UACxCnB,GAAG,aACH,UAAQ,YACRO,UAAU,eAEZ,uBAAOyB,QAAQ,aAAf,qCAIJ,oBACEzB,UAAU,YACV,UAAQ,WAFV,SAIGlC,EAAe2C,KAAI,SAAAN,GAAE,OACpB,cAAC,EAAD,CACEA,GAAIA,GACCA,EAAGV,eCtCPiC,EAAwBpE,IAAM2B,MAAK,WAC9C,MAA2CC,qBAAW7B,GAA9CG,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,cACzB,EAA2CwB,qBAAW7B,GAA9CO,EAAR,EAAQA,YAAaG,EAArB,EAAqBA,kBACrB,EAAwBG,mBAAS,OAAjC,mBAAOyB,EAAP,KAAagC,EAAb,KAkBA,OAbApD,qBAAU,WACR,OAAQoB,GACN,IAAK,SACH5B,EAAkBH,GAClB,MACF,IAAK,YACHG,EAAkBL,GAClB,MACF,QACEK,EAAkBP,MAErB,CAACmC,EAAMnC,EAAOE,IAGf,mCACGF,EAAM+D,OAAS,GACd,mCACE,yBAAQvB,UAAU,SAAlB,UACE,sBACE,UAAQ,eACRA,UAAU,aAFZ,mBAIMpC,EAAY2D,OAJlB,iBAOA,qBAAIvB,UAAU,UAAd,UACE,6BACE,mBACE4B,KAAK,KACL5B,UAAWU,IAAW,CAAEmB,SAAmB,QAATlC,IAClCmB,QAAS,kBAAMa,EAAQ,QAHzB,mBASF,6BACE,mBACEC,KAAK,WACL5B,UAAWU,IAAW,CAAEmB,SAAmB,WAATlC,IAClCmB,QAAS,kBAAMa,EAAQ,WAHzB,sBASF,6BACE,mBACEC,KAAK,cACL5B,UAAWU,IAAW,CAAEmB,SAAmB,cAATlC,IAClCmB,QAAS,kBAAMa,EAAQ,cAHzB,4BAUHjE,EAAc6D,OAAS,GACtB,wBACE5B,KAAK,SACLK,UAAU,kBACVc,QAAS,kBAAMrD,EAASG,IAH1B,uCC7CCkE,EAnBO,WACpB,OACE,cAAC,EAAD,UACE,0BAAS9B,UAAU,UAAnB,UACE,yBAAQA,UAAU,SAAlB,UACE,uCACA,cAAC,EAAD,OAGF,yBAASA,UAAU,OAAnB,SACE,cAACqB,EAAD,MAGF,cAACK,EAAD,UCVRK,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.b8d8ef8c.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Todo } from './types';\n\ntype ContextProps = {\n  todos: Todo[],\n  setTodos: (todo: Todo[]) => void,\n  finishedTodos: Todo[],\n  setFinishedTodos: (todo: Todo[]) => void,\n  activeTodos: Todo[],\n  setActiveTodos: (todo: Todo[]) => void,\n  visibleTodoses: Todo[],\n  setVisibleTodoses: (todo: Todo[]) => void,\n};\n\nexport const TodoContext = React.createContext<ContextProps>({\n  todos: [],\n  setTodos: () => { },\n  finishedTodos: [],\n  setFinishedTodos: () => { },\n  activeTodos: [],\n  setActiveTodos: () => { },\n  visibleTodoses: [],\n  setVisibleTodoses: () => { },\n});\n\nexport const TodoProvider: React.FC = ({ children }) => {\n  const [todos, setTodos] = useState<Todo[]>(\n    JSON.parse(localStorage.getItem('todo') || '[]'),\n  );\n  const [visibleTodoses, setVisibleTodoses] = useState<Todo[]>([]);\n  const [finishedTodos, setFinishedTodos] = useState<Todo[]>([]);\n  const [activeTodos, setActiveTodos] = useState<Todo[]>([]);\n\n  useEffect(() => {\n    localStorage.setItem('todo', JSON.stringify(todos));\n\n    setFinishedTodos(todos.filter(elem => elem.completed));\n    setActiveTodos(todos.filter(elem => !elem.completed));\n  }, [todos]);\n\n  const contextValue = {\n    todos,\n    setTodos,\n    finishedTodos,\n    setFinishedTodos,\n    activeTodos,\n    setActiveTodos,\n    visibleTodoses,\n    setVisibleTodoses,\n  };\n\n  return (\n    <TodoContext.Provider value={contextValue}>\n      {children}\n    </TodoContext.Provider>\n  );\n};\n","import React, { useContext, useState } from 'react';\nimport { TodoContext } from '../TodoContext';\nimport './TodoApp.scss';\n\nexport const TodoApp: React.FC = React.memo(() => {\n  const { todos, setTodos } = useContext(TodoContext);\n  const [title, setTitle] = useState('');\n\n  const todoCreate = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    const newTodo = {\n      id: +new Date(),\n      title,\n      completed: false,\n    };\n\n    if (!newTodo.title) {\n      return;\n    }\n\n    setTodos([...todos, newTodo]);\n    setTitle('');\n  };\n\n  return (\n    <form onSubmit={todoCreate}>\n      <input\n        type=\"text\"\n        value={title}\n        onChange={(e) => {\n          setTitle(e.target.value.trim());\n        }}\n        className=\"new-todo\"\n        data-cy=\"createTodo\"\n        placeholder=\"What needs to be done?\"\n      />\n    </form>\n  );\n});\n","import React, { useContext, useState } from 'react';\nimport classNames from 'classnames';\nimport { TodoContext } from '../TodoContext';\nimport { Todo } from '../types';\nimport './TodoItem.scss';\n\ntype Props = {\n  el: Todo,\n}\n\nexport const TodoItem: React.FC<Props> = ({ el }) => {\n  const { todos, setTodos } = useContext(TodoContext);\n  const [focused, setFocused] = useState(false);\n  const [editTodo, setEditTodo] = useState(el.title.trim());\n\n  const updateTodo = () => {\n    setTodos(todos.map((elem) => {\n      if (elem.id === el.id) {\n        return {\n          ...elem,\n          title: editTodo.trim(),\n        };\n      }\n\n      return elem;\n    }));\n  };\n\n  const handledoubleClick = () => {\n    setFocused(true);\n  };\n\n  const handleClick = (event: React.KeyboardEvent) => {\n    switch (event.key) {\n      case 'Enter':\n        setFocused(false);\n        updateTodo();\n        break;\n      case 'Escape':\n        setEditTodo(el.title.trim());\n        setFocused(false);\n        break;\n      default:\n    }\n  };\n\n  const destroyItem = (id: number) => {\n    setTodos(todos.filter(elem => elem.id !== id));\n  };\n\n  const handleInputTodo = (id: number) => {\n    setTodos(todos.map((elem) => {\n      if (elem.id === id) {\n        return {\n          ...elem,\n          completed: !elem.completed,\n        };\n      }\n\n      return elem;\n    }));\n  };\n\n  const handleOnBlur = () => {\n    setFocused(false);\n    updateTodo();\n  };\n\n  return (\n    <>\n      <li\n        key={el.id}\n        className={classNames({\n          completed: el.completed,\n          editing: focused,\n        })}\n      >\n        <div className=\"view\">\n          <input\n            type=\"checkbox\"\n            checked={el.completed}\n            onChange={() => handleInputTodo(el.id)}\n            className=\"toggle\"\n          />\n          <label\n            onDoubleClick={handledoubleClick}\n          >\n            {el.title}\n          </label>\n          <button\n            type=\"button\"\n            data-cy=\"deleteTodo\"\n            className=\"destroy\"\n            onClick={() => destroyItem(el.id)}\n          />\n        </div>\n        <input\n          type=\"text\"\n          id=\"editTodo\"\n          value={editTodo}\n          onChange={e => setEditTodo(e.target.value)}\n          className=\"edit\"\n          ref={input => input && input.focus()}\n          onBlur={handleOnBlur}\n          onKeyDown={handleClick}\n        />\n      </li>\n    </>\n  );\n};\n","import React, { useContext } from 'react';\nimport { TodoContext } from '../TodoContext';\nimport { TodoItem } from './TodoItem';\n\nexport const TodoList: React.FC = React.memo(() => {\n  const { todos, setTodos } = useContext(TodoContext);\n  const { visibleTodoses } = useContext(TodoContext);\n\n  const actTodo = todos.filter(elem => !elem.completed);\n\n  const handleToggleAll = (e: boolean) => {\n    setTodos(todos.map((elem) => {\n      return {\n        ...elem,\n        completed: e,\n      };\n    }));\n  };\n\n  return (\n    <>\n      {todos.length !== 0 && (\n        <>\n          <input\n            type=\"checkbox\"\n            checked={actTodo.length === 0}\n            onChange={e => handleToggleAll(e.target.checked)}\n            id=\"toggle-all\"\n            data-cy=\"toggleAll\"\n            className=\"toggle-all\"\n          />\n          <label htmlFor=\"toggle-all\">Mark all as complete</label>\n        </>\n      )}\n\n      <ul\n        className=\"todo-list\"\n        data-cy=\"todoList\"\n      >\n        {visibleTodoses.map(el => (\n          <TodoItem\n            el={el}\n            key={el.id}\n          />\n        ))}\n      </ul>\n    </>\n  );\n});\n","import React, { useContext, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { TodoContext } from '../TodoContext';\n\nexport const TodosFilter: React.FC = React.memo(() => {\n  const { todos, setTodos, finishedTodos } = useContext(TodoContext);\n  const { activeTodos, setVisibleTodoses } = useContext(TodoContext);\n  const [type, setType] = useState('all');\n\n  // eslint-disable-next-line\n  // console.log(finishedTodos);\n\n  useEffect(() => {\n    switch (type) {\n      case 'active':\n        setVisibleTodoses(activeTodos);\n        break;\n      case 'completed':\n        setVisibleTodoses(finishedTodos);\n        break;\n      default:\n        setVisibleTodoses(todos);\n    }\n  }, [type, todos, finishedTodos]);\n\n  return (\n    <>\n      {todos.length > 0 && (\n        <>\n          <footer className=\"footer\">\n            <span\n              data-cy=\"todosCounter\"\n              className=\"todo-count\"\n            >\n              {`${activeTodos.length} items left`}\n            </span>\n\n            <ul className=\"filters\">\n              <li>\n                <a\n                  href=\"#/\"\n                  className={classNames({ selected: type === 'all' })}\n                  onClick={() => setType('all')}\n                >\n                  All\n                </a>\n              </li>\n\n              <li>\n                <a\n                  href=\"#/active\"\n                  className={classNames({ selected: type === 'active' })}\n                  onClick={() => setType('active')}\n                >\n                  Active\n                </a>\n              </li>\n\n              <li>\n                <a\n                  href=\"#/completed\"\n                  className={classNames({ selected: type === 'completed' })}\n                  onClick={() => setType('completed')}\n                >\n                  Completed\n                </a>\n              </li>\n            </ul>\n\n            {finishedTodos.length > 0 && (\n              <button\n                type=\"button\"\n                className=\"clear-completed\"\n                onClick={() => setTodos(activeTodos)}\n              >\n                Clear completed\n              </button>\n            )}\n\n          </footer>\n        </>\n      )}\n\n    </>\n  );\n});\n","import React from 'react';\nimport { TodoApp } from './components/TodoApp';\nimport { TodoList } from './components/TodoList';\nimport { TodoProvider } from './TodoContext';\nimport { TodosFilter } from './components/TodosFilter';\n\nconst App: React.FC = () => {\n  return (\n    <TodoProvider>\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n          <TodoApp />\n        </header>\n\n        <section className=\"main\">\n          <TodoList />\n        </section>\n\n        <TodosFilter />\n      </section>\n    </TodoProvider>\n  );\n};\n\nexport default App;\n","// import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}